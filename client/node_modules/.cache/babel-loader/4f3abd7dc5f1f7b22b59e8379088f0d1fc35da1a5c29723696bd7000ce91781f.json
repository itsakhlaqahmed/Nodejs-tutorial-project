{"ast":null,"code":"import cookie from 'js-cookie';\n\n// set in cookie\nexport const setCookie = (key, value) => {\n  if (window) {\n    cookie.set(key, value, {\n      expires: 1\n    });\n  }\n};\n\n// remove from cookie\nexport const removeCookie = key => {\n  if (window) {\n    cookie.remove(key, {\n      expires: 1\n    });\n  }\n};\n\n// get from cookie such as stored token\n// will be useful when we need to make request to server with token\nexport const getCookie = key => {\n  if (window) {\n    cookie.get(key);\n  }\n};\n\n// set in local storage\nexport const setLocalStorage = (key, value) => {\n  if (window) {\n    localStorage.setItem(key, JSON.stringify(value));\n  }\n};\n\n// remove from localstorage\nexport const removeLocalStorage = key => {\n  if (window) {\n    localStorage.removeItem(key);\n  }\n};\n\n// authenicate user by passing data to cookie and localstorage during signin\nexport const authenicate = (response, next) => {\n  setCookie('token', response.data.token);\n  setLocalStorage('user', response.data.user);\n  next();\n};\n\n// access user info form localstorage\n\nexport const isAuth = key => {\n  if (window) {\n    const cookieChecked = getCookie(key);\n    {}\n    if (cookieChecked) {\n      if (localStorage.getItem('user')) {\n        return JSON.parse(localStorage.getItem('user'));\n      }\n    } else {\n      return false;\n    }\n  }\n};","map":{"version":3,"names":["cookie","setCookie","key","value","window","set","expires","removeCookie","remove","getCookie","get","setLocalStorage","localStorage","setItem","JSON","stringify","removeLocalStorage","removeItem","authenicate","response","next","data","token","user","isAuth","cookieChecked","getItem","parse"],"sources":["C:/Users/akhla/Documents/Web Development Bootcamp/orielly's mern project/client/src/auth/helper.js"],"sourcesContent":["import cookie from 'js-cookie';\r\n\r\n\r\n// set in cookie\r\nexport const setCookie = (key, value) => {\r\n    if(window){\r\n        cookie.set(key, value,{\r\n            expires: 1\r\n        })\r\n    }\r\n}\r\n\r\n// remove from cookie\r\nexport const removeCookie = (key) => {\r\n    if(window){\r\n        cookie.remove(key, {\r\n            expires: 1\r\n        })\r\n    }\r\n}\r\n\r\n// get from cookie such as stored token\r\n// will be useful when we need to make request to server with token\r\nexport const getCookie = (key) => {\r\n    if(window){\r\n        cookie.get(key)\r\n    }\r\n}\r\n\r\n\r\n// set in local storage\r\nexport const setLocalStorage = (key, value) => {\r\n    if(window){\r\n        localStorage.setItem(key, JSON.stringify(value))\r\n    }\r\n}\r\n\r\n// remove from localstorage\r\nexport const removeLocalStorage = (key) => {\r\n    if(window){\r\n        localStorage.removeItem(key)\r\n    }\r\n}\r\n\r\n// authenicate user by passing data to cookie and localstorage during signin\r\nexport const authenicate = (response, next) => {\r\n    setCookie('token', response.data.token)\r\n    setLocalStorage('user', response.data.user)\r\n    next();\r\n}\r\n\r\n// access user info form localstorage\r\n\r\nexport const isAuth = (key) => {\r\n    if(window){\r\n        const cookieChecked = getCookie(key);{}\r\n        if(cookieChecked){\r\n            if(localStorage.getItem('user')){\r\n                return JSON.parse(localStorage.getItem('user'));\r\n            }\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n}"],"mappings":"AAAA,OAAOA,MAAM,MAAM,WAAW;;AAG9B;AACA,OAAO,MAAMC,SAAS,GAAGA,CAACC,GAAG,EAAEC,KAAK,KAAK;EACrC,IAAGC,MAAM,EAAC;IACNJ,MAAM,CAACK,GAAG,CAACH,GAAG,EAAEC,KAAK,EAAC;MAClBG,OAAO,EAAE;IACb,CAAC,CAAC;EACN;AACJ,CAAC;;AAED;AACA,OAAO,MAAMC,YAAY,GAAIL,GAAG,IAAK;EACjC,IAAGE,MAAM,EAAC;IACNJ,MAAM,CAACQ,MAAM,CAACN,GAAG,EAAE;MACfI,OAAO,EAAE;IACb,CAAC,CAAC;EACN;AACJ,CAAC;;AAED;AACA;AACA,OAAO,MAAMG,SAAS,GAAIP,GAAG,IAAK;EAC9B,IAAGE,MAAM,EAAC;IACNJ,MAAM,CAACU,GAAG,CAACR,GAAG,CAAC;EACnB;AACJ,CAAC;;AAGD;AACA,OAAO,MAAMS,eAAe,GAAGA,CAACT,GAAG,EAAEC,KAAK,KAAK;EAC3C,IAAGC,MAAM,EAAC;IACNQ,YAAY,CAACC,OAAO,CAACX,GAAG,EAAEY,IAAI,CAACC,SAAS,CAACZ,KAAK,CAAC,CAAC;EACpD;AACJ,CAAC;;AAED;AACA,OAAO,MAAMa,kBAAkB,GAAId,GAAG,IAAK;EACvC,IAAGE,MAAM,EAAC;IACNQ,YAAY,CAACK,UAAU,CAACf,GAAG,CAAC;EAChC;AACJ,CAAC;;AAED;AACA,OAAO,MAAMgB,WAAW,GAAGA,CAACC,QAAQ,EAAEC,IAAI,KAAK;EAC3CnB,SAAS,CAAC,OAAO,EAAEkB,QAAQ,CAACE,IAAI,CAACC,KAAK,CAAC;EACvCX,eAAe,CAAC,MAAM,EAAEQ,QAAQ,CAACE,IAAI,CAACE,IAAI,CAAC;EAC3CH,IAAI,CAAC,CAAC;AACV,CAAC;;AAED;;AAEA,OAAO,MAAMI,MAAM,GAAItB,GAAG,IAAK;EAC3B,IAAGE,MAAM,EAAC;IACN,MAAMqB,aAAa,GAAGhB,SAAS,CAACP,GAAG,CAAC;IAAC,CAAC;IACtC,IAAGuB,aAAa,EAAC;MACb,IAAGb,YAAY,CAACc,OAAO,CAAC,MAAM,CAAC,EAAC;QAC5B,OAAOZ,IAAI,CAACa,KAAK,CAACf,YAAY,CAACc,OAAO,CAAC,MAAM,CAAC,CAAC;MACnD;IACJ,CAAC,MAAM;MACH,OAAO,KAAK;IAChB;EACJ;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}